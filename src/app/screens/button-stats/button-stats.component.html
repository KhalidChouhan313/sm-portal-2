<header>
  <h2>Templates</h2>
  <!-- <div class="search">
    <img src="../../../assets/icons/search 1.svg" alt="" />
    <input type="text" placeholder="Search Loactions" />
  </div> -->
  <div class="rightIcon">
    <img
      src="../../../assets/icons/Group 1000004276.svg"
      alt="calendar-Icon"
      class="calendarIcon"
      (click)="toggleCalendar()"
    />
  </div>
  <div class="calendar" *ngIf="showCalendar">
    <div class="selected-info">
      <p>Start: {{ selectedStart | date }}</p>
      <p>End: {{ selectedEnd | date }}</p>
    </div>
    <div class="calendar-header">
      <button
        (click)="generateCalendar(currentYear, currentMonth - 1)"
        [disabled]="isPrevDisabled()"
      >
        &lt;
      </button>
      <span>{{ currentYear }} - {{ currentMonth + 1 }}</span>
      <button
        (click)="generateCalendar(currentYear, currentMonth + 1)"
        [disabled]="isNextDisabled()"
      >
        &gt;
      </button>
    </div>

    <div class="calendar-grid">
      <div
        class="day-name"
        *ngFor="let name of ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']"
      >
        {{ name }}
      </div>
      <div
        class="day"
        *ngFor="let day of days"
        [class.disabled]="!day.isCurrentMonth || !day.isInRange"
        [class.selected]="isSelected(day)"
        (click)="selectDate(day)"
      >
        {{ day.isCurrentMonth ? day.date.getDate() : "" }}
      </div>
    </div>
  </div>
</header>

<div class="row">
  <div
    style="
      display: flex;
      align-items: center;
      justify-content: center;
      height: 50vh;
    "
    *ngIf="loading"
  >
    <app-loader></app-loader>
  </div>
  <div
    class="no-data"
    *ngIf="
      !loading && col1.length === 0 && col2.length === 0 && col3.length === 0
    "
    style="
      display: flex;
      align-items: center;
      justify-content: center;
      height: 40vh;
      width: 100%;
    "
  >
    <h3>No data found in this range ðŸš«</h3>
  </div>
  <div class="col" *ngIf="!loading && col1.length > 0">
    <div class="card" *ngFor="let template of col1">
      <div class="card-body">
        <div
          class="card-body1"
          style="
            display: flex;
            align-items: center;
            justify-content: space-between;
          "
        >
          <div class="icon">
            <img [src]="template.icon" alt="{{ template.title }}" />
            <h3>{{ template.title }}</h3>
          </div>
          <!-- <span class="status" *ngIf="template.active">Active</span> -->
        </div>

        <div class="countBox">
          <div class="total-press">
            <div class="">
              <span class="text-[#1C1C1C]">Total Sent</span>
            </div>
            <strong>{{ template.topSentCount | number }}</strong>
          </div>
          <div class="total-clicks">
            <div class="">
              <span class="text-[#1C1C1C]">Total Clicks</span>
            </div>
            <strong>{{ template.totalClicks | number }}</strong>
          </div>
        </div>
      </div>

      <ul class="items">
        <li *ngFor="let item of template.items" [ngClass]="item.type">
          <span>{{ item.label }}</span>
          <div class="percent1">
            <span class="value">{{ item.value | number }}</span>
            <span class="percent"
              >{{ item.percent }}%
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="13"
                height="14"
                viewBox="0 0 13 14"
                fill="none"
              >
                <path
                  d="M1.04004 1.51999V11.7493C1.04004 12.1529 1.36717 12.48 1.77071 12.48H12"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M11.2694 4.44254L7.61606 8.0958L5.78939 6.26906L3.23206 8.82639"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                /></svg
            ></span>
          </div>
        </li>
      </ul>
    </div>
  </div>

  <div class="col" *ngIf="!loading && col2.length > 0">
    <div class="card" *ngFor="let template of col2">
      <div class="card-body">
        <div
          class="card-body1"
          style="
            display: flex;
            align-items: center;
            justify-content: space-between;
          "
        >
          <div class="icon">
            <img [src]="template.icon" alt="{{ template.title }}" />
            <h3>{{ template.title }}</h3>
          </div>
          <!-- <span class="status" *ngIf="template.active">Active</span> -->
        </div>

        <div class="countBox">
          <div class="total-press">
            <div class="">
              <span class="text-[#1C1C1C]">Total Sent</span>
            </div>
            <strong>{{ template.topSentCount | number }}</strong>
          </div>
          <div class="total-clicks">
            <div class="">
              <span class="text-[#1C1C1C]">Total Clicks</span>
            </div>
            <strong>{{ template.totalClicks | number }}</strong>
          </div>
        </div>
      </div>

      <ul class="items">
        <li *ngFor="let item of template.items" [ngClass]="item.type">
          <span>{{ item.label }}</span>
          <div class="percent1">
            <span class="value">{{ item.value | number }}</span>
            <span class="percent"
              >{{ item.percent }}%
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="12"
                height="12"
                viewBox="0 0 13 14"
                fill="none"
              >
                <path
                  d="M1.04004 1.51999V11.7493C1.04004 12.1529 1.36717 12.48 1.77071 12.48H12"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M11.2694 4.44254L7.61606 8.0958L5.78939 6.26906L3.23206 8.82639"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                /></svg
            ></span>
          </div>
        </li>
      </ul>
    </div>
  </div>

  <div class="col" *ngIf="!loading && col3.length > 0">
    <div class="card" *ngFor="let template of col3">
      <div class="card-body">
        <div
          class="card-body1"
          style="
            display: flex;
            align-items: center;
            justify-content: space-between;
          "
        >
          <div class="icon">
            <img [src]="template.icon" alt="{{ template.title }}" />
            <h3>{{ template.title }}</h3>
          </div>
          <!-- <span class="status" *ngIf="template.active">Active</span> -->
        </div>

        <div class="countBox">
          <div class="total-press">
            <div class="">
              <span class="text-[#1C1C1C]">Total Sent</span>
            </div>
            <strong>{{ template.topSentCount | number }}</strong>
          </div>
          <div class="total-clicks">
            <div class="">
              <span class="text-[#1C1C1C]">Total Clicks</span>
            </div>
            <strong>{{ template.totalClicks | number }}</strong>
          </div>
        </div>
      </div>

      <ul class="items">
        <li *ngFor="let item of template.items" [ngClass]="item.type">
          <span>{{ item.label }}</span>
          <div class="percent1">
            <span class="value">{{ item.value | number }}</span>
            <span class="percent"
              >{{ item.percent }}%
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="13"
                height="14"
                viewBox="0 0 13 14"
                fill="none"
              >
                <path
                  d="M1.04004 1.51999V11.7493C1.04004 12.1529 1.36717 12.48 1.77071 12.48H12"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M11.2694 4.44254L7.61606 8.0958L5.78939 6.26906L3.23206 8.82639"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                /></svg
            ></span>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
