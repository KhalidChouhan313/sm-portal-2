<div class="container">
  <div class="add-top">
    <h1>Campaign details</h1>
    <div class="btns">
      <button>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="22"
          height="22"
          viewBox="0 0 25 25"
          fill="none"
        >
          <path
            d="M12.6899 22.5C18.2128 22.5 22.6899 18.0228 22.6899 12.5C22.6899 6.97715 18.2128 2.5 12.6899 2.5C7.16709 2.5 2.68994 6.97715 2.68994 12.5C2.68994 18.0228 7.16709 22.5 12.6899 22.5Z"
            stroke="white"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M12.6899 9V15"
            stroke="white"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M9.68994 13L12.6899 16L15.6899 13"
            stroke="white"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
        Export As CSV
      </button>
      <button class="back" [routerLink]="'/broadcast/campaigns'">Back</button>
    </div>
  </div>

  <div class="main" *ngIf="campaign">
    <div class="sectionLeft">
      <div class="stats">
        <div class="stat-card">
          <h2>{{ campaign.totalContacts }}</h2>
          <p>Messages</p>
        </div>
        <div class="stat-card">
          <h2>{{ campaign.processedContacts }}</h2>
          <p>sent</p>
        </div>
        <div class="stat-card">
          <h2>{{ campaign.successContacts }}</h2>
          <p>Delivered</p>
        </div>
        <div class="stat-card">
          <h2>{{ campaign.failedContacts }}</h2>
          <p>Failed</p>
        </div>
        <div class="stat-card">
          <h2>{{ campaign.progress }}</h2>
          <p>Progress</p>
        </div>
      </div>

      <table class="campaign-table">
        <thead>
          <tr>
            <th class="tableHead">Contact</th>
            <th class="tableHead">Phone</th>
            <th class="tableHead">Last Updated</th>
            <th class="tableHead">Status</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of campaign?.contacts">
            <td>{{ campaign?.campaignName }}</td>
            <td>{{ item.phone_number }}</td>
            <td>{{ item.timestamp | date : "MMM dd, yyyy, h:mm a" }}</td>
            <td>
              <span class="status accepted">{{
                item.state || "Accepted"
              }}</span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="sectionRight">
      <div class="detail-card">
        <h3>Campaign details</h3>
        <div class="info">
          <p><strong>Campaign name:</strong> {{ campaign.campaignName }}</p>
          <p><strong>Template:</strong> {{ campaign.templateName }}</p>
          <p><strong>Recipients:</strong> {{ campaign.totalContacts }}</p>
          <p>
            <strong>Time scheduled:</strong>
            {{ campaign.Date | date : "MMM dd, yyyy, h:mm a" }}
          </p>
        </div>
        <div class="mobile-preview">
          <img
            src="../../../assets/mobileCampagin.png"
            alt="mobile"
            class="mobile"
          />
        </div>
      </div>
    </div>
  </div>
</div>
